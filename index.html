<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Proyecto ETERNO</title>
    <style>
        body {
            background-color: black;
            color: #00ffcc;
            font-family: 'Courier New', Courier, monospace;
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
            height: 100vh;
            text-align: center;
        }

        h1 {
            font-size: 2rem;
        }

        #countdown {
            font-size: 2.5rem;
            margin-top: 20px;
        }

        #message {
            font-size: 1.5rem;
            margin-top: 30px;
            display: none;
        }

        #terminal {
            display: none;
            flex-direction: column;
            align-items: center;
            margin-top: 30px;
            width: 80%;
            max-width: 600px;
        }

        #input {
            width: 100%;
            padding: 10px;
            background-color: black;
            border: 1px solid #00ffcc;
            color: #00ffcc;
            font-family: 'Courier New', Courier, monospace;
            font-size: 1rem;
        }

        #output {
            margin-top: 10px;
            white-space: pre-wrap;
            text-align: left;
            width: 100%;
        }
        .flash {
    animation: flash 0.2s;
}

@keyframes flash {
    0% { background-color: #00ffcc; color: black; }
    100% { background-color: black; color: #00ffcc; }
}
    </style>
</head>
<body>
    <h1>Has sido seleccionadx para el <strong>Proyecto ETERNO</strong>.</h1>
    <p>No hagas preguntas. Próximamente descubrirás la verdad sobre tu 2025.</p>
    <div id="countdown"></div>
    <div id="message">🔓 Bienvenido al Proyecto ETERNO. La verdad ha sido liberada.</div>

<!-- Terminal de CRONO -->
<div id="terminal">
    <p>CRONO está en línea. Introduce una instrucción:</p>
    <input type="text" id="input" placeholder="Escribe aquí..." autofocus>
    <pre id="output"></pre>
</div>

<script>
    function toggleKORA() {
    const koraSection = document.getElementById("kora-section");
    koraSection.style.display = koraSection.style.display === "none" ? "block" : "none";
}

    const countdownEl = document.getElementById("countdown");
    const messageEl = document.getElementById("message");
    const terminalEl = document.getElementById("terminal");
    const inputEl = document.getElementById("input");
    const outputEl = document.getElementById("output");

    const targetDate = new Date("January 1, 2025 00:00:00").getTime();

    function updateCountdown() {
        const now = new Date().getTime();
        const distance = targetDate - now;

        if (distance <= 0) {
            countdownEl.style.display = "none";
            messageEl.style.display = "block";
            terminalEl.style.display = "flex";
            return;
        }

        const days = Math.floor(distance / (1000 * 60 * 60 * 24));
        const hours = Math.floor((distance % (1000 * 60 * 60 * 24)) / (1000 * 60 * 60));
        const minutes = Math.floor((distance % (1000 * 60 * 60)) / (1000 * 60));
        const seconds = Math.floor((distance % (1000 * 60)) / 1000);

        countdownEl.innerHTML = `${days}d ${hours}h ${minutes}m ${seconds}s`;
    }

    setInterval(updateCountdown, 1000);
    updateCountdown();

    // Terminal simple para CRONO
    const koraFragmentKeys = ["anomalía", "ciclos", "interferencia", "dolor", "rendición"];
function desbloquearArchivo(id) {
    const key = id.replace("file-", "");
    let stored = JSON.parse(localStorage.getItem("kora_fragments") || "[]");
    if (!stored.includes(key)) {
        stored.push(key);
        localStorage.setItem("kora_fragments", JSON.stringify(stored));
        updateKORASection();
    }
}
function updateKORASection() {
    const stored = JSON.parse(localStorage.getItem("kora_fragments") || "[]");
    document.querySelectorAll(".kora-file").forEach(el => {
        const key = el.dataset.key;
        if (stored.includes(key)) {
            el.innerHTML = `✅ ${key.toUpperCase()} — <a href="archivos/${key}.pdf" target="_blank">Descargar</a>`;
        } else {
            el.innerHTML = `🔒 ${key.toUpperCase()} — [Acceso denegado]`;
        }
    });
}
updateKORASection();

    inputEl.addEventListener("keydown", function(event) {
        if (event.key === "Enter") {
            const input = inputEl.value.trim().toLowerCase();
            let response = "";

            if (input.includes("pizza")) {
                response = "CRONO no consume alimentos. Blanca sí querría una, probablemente.";
            } else if (input.includes("hola")) {
                response = "CRONO: No hay tiempo para saludos.";
            } else if (input.includes("quién eres")) {
                response = "CRONO: Soy supervisión. Soy control. Soy estabilidad.";
            } else if (input.includes("ayuda")) {
                response = "CRONO: El protocolo de asistencia está restringido.";
            } else if (input.includes("salir")) {
                response = "CRONO: No se puede salir de una línea no superada.";
            } else if (input.includes("reiniciar")) {
                response = "CRONO: Reversia no autorizada por asistentes emocionales.";
            } else if (input.includes("blanca")) {
                response = "CRONO: Asistente emocional asignada. Comportamiento en observación.";
            } else if (input.includes("crono")) {
                response = "CRONO: Presente. Escuchando. Evaluando.";
            } else if (input.includes("error")) {
                response = "CRONO: No hay errores. Solo desvíos.";
            } else if (input.includes("proyecto eterno")) {
                response = "CRONO: El Proyecto Eterno es un experimento liderado por EÓN en colaboración con su IA de supervisión, CRONO. Consiste en seleccionar grupos humanos con fuertes lazos afectivos y colocarles en un bucle de un mismo año para observar cómo evolucionan emocionalmente con cada repetición. Cada grupo está en una línea temporal específica. En este caso, ellos están en la línea 8B, viviendo repetidamente el año 2025, el nombre de su grupo es 8B-25. El objetivo del experimento es ver si pueden trascender ese año de forma emocional y afectiva. Si lo consiguen, se les permite avanzar en el tiempo. Si no, se reinician.";
            } else if (input.includes("Eón")) {
                response = "CRONO: La Fundación Eón es una organización científica global que vela por la estabilidad del tiempo emocional de la humanidad. No alteran la historia, pero sí analizan líneas temporales donde se han detectado anomalías emocionales colectivas: traumas, bloqueos, patrones de inercia, etc."; 
            } else {
                switch (input) {
                    case "qué es esto":
                        response = "CRONO: Proyecto ETERNO. Línea temporal 8B-25. En curso.";
                        break;
                    case "anomalía":
    desbloquearArchivo("file-anomalia");
    response = "CRONO: Término detectado. Registro ANOMALÍA habilitado.";
    break;
case "ciclos":
    desbloquearArchivo("file-ciclos");
    response = "CRONO: Los ciclos no terminan hasta que se comprende el patrón. Registro CICLOS habilitado.";
    break;
case "interferencia":
    desbloquearArchivo("file-interferencia");
    response = "CRONO: Señales cruzadas. Posible sabotaje afectivo. Registro INTERFERENCIA habilitado.";
    break;
case "dolor":
    desbloquearArchivo("file-dolor");
    response = "CRONO: Registro emocional intenso detectado. Registro DOLOR habilitado.";
    break;
case "rendición":
    desbloquearArchivo("file-rendicion");
    response = "CRONO: ¿Final o inicio? Registro RENDICIÓN habilitado.";
    break;

                    case "emociones":
                        response = "CRONO: Variables inestables. Causa probable del bucle.";
                        break;
                    case "bucle":
                        response = "CRONO: Reinicio número 47 confirmado.";
                        break;
                    case "fin":
                        response = "CRONO: Aún no.";
                        break;
                    default:
                        response = "CRONO: Entrada no reconocida.";
                }
            }
outputEl.classList.add("flash");
setTimeout(() => outputEl.classList.remove("flash"), 200);

            outputEl.textContent += `> ${input}\n${response}\n\n`;
            inputEl.value = "";
            outputEl.scrollTop = outputEl.scrollHeight;
        }
    });
    function resetProgress() {
    if (confirm("¿Reiniciar progreso? Esto borrará los archivos desbloqueados.")) {
        localStorage.removeItem("kora_fragments");
        updateKORASection();
        outputEl.textContent += "> Reinicio manual ejecutado.\nCRONO: Todos los registros han sido eliminados.\n\n";
        outputEl.scrollTop = outputEl.scrollHeight;
    }
}

</script>
    <div id="kora-section" style="display: none; margin-top: 40px;">
    <h2>DÆTA:KORA</h2>
    <div id="kora-files">
        <p class="kora-file" data-key="anomalía">🔒 DÆTA:KORA_1 — [Acceso denegado]</p>
        <p class="kora-file" data-key="ciclos">🔒 DÆTA:KORA_2 — [Acceso denegado]</p>
        <p class="kora-file" data-key="interferencia">🔒 DÆTA:KORA_3 — [Acceso denegado]</p>
        <p class="kora-file" data-key="dolor">🔒 DÆTA:KORA_4 — [Acceso denegado]</p>
        <p class="kora-file" data-key="rendición">🔒 DÆTA:KORA_5 — [Acceso denegado]</p>
    </div>
</div>
<!-- Botón para mostrar sección DÆTA:KORA -->
<button onclick="toggleKORA()" style="margin-top: 20px; padding: 10px; font-family: 'Courier New', monospace; background-color: black; border: 1px solid #00ffcc; color: #00ffcc; cursor: pointer;">
    Acceder a DÆTA:KORA
</button>
<!-- SOLO PARA PRUEBAS - Eliminar antes del escape room -->
<button onclick="resetProgress()" style="margin-top: 10px; padding: 10px; font-family: 'Courier New', monospace; background-color: black; border: 1px solid red; color: red; cursor: pointer;">
    🔄 Resetear todo (PRUEBAS)
</button>

</body>
</html>
