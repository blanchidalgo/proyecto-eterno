<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Proyecto ETERNO</title>
    <style>
        body {
            background-color: black;
            color: #00ffcc;
            font-family: 'Courier New', Courier, monospace;
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
            height: 100vh;
            text-align: center;
        }

        h1 {
            font-size: 2rem;
        }

        #countdown {
            font-size: 2.5rem;
            margin-top: 20px;
        }

        #message {
            font-size: 1.5rem;
            margin-top: 30px;
            display: none;
        }

        #terminal {
            display: none;
            flex-direction: column;
            align-items: center;
            margin-top: 30px;
            width: 80%;
            max-width: 600px;
        }

        #input {
            width: 100%;
            padding: 10px;
            background-color: black;
            border: 1px solid #00ffcc;
            color: #00ffcc;
            font-family: 'Courier New', Courier, monospace;
            font-size: 1rem;
        }

        #output {
            margin-top: 10px;
            white-space: pre-wrap;
            text-align: left;
            width: 100%;
        }
        .flash {
    animation: flash 0.2s;
}

@keyframes flash {
    0% { background-color: #00ffcc; color: black; }
    100% { background-color: black; color: #00ffcc; }
}
    </style>
</head>
<body>
    <h1>Has sido seleccionadx para el <strong>Proyecto ETERNO</strong>.</h1>
    <p>No hagas preguntas. PrÃ³ximamente descubrirÃ¡s la verdad sobre tu 2025.</p>
    <div id="countdown"></div>
    <div id="message">ðŸ”“ Bienvenido al Proyecto ETERNO. La verdad ha sido liberada.</div>

<!-- Terminal de CRONO -->
<div id="terminal">
    <p>CRONO estÃ¡ en lÃ­nea. Introduce una instrucciÃ³n:</p>
    <input type="text" id="input" placeholder="Escribe aquÃ­..." autofocus>
    <pre id="output"></pre>
</div>

<script>
    function toggleKORA() {
    const koraSection = document.getElementById("kora-section");
    koraSection.style.display = koraSection.style.display === "none" ? "block" : "none";
}

    const countdownEl = document.getElementById("countdown");
    const messageEl = document.getElementById("message");
    const terminalEl = document.getElementById("terminal");
    const inputEl = document.getElementById("input");
    const outputEl = document.getElementById("output");

    const targetDate = new Date("January 1, 2025 00:00:00").getTime();

    function updateCountdown() {
        const now = new Date().getTime();
        const distance = targetDate - now;

        if (distance <= 0) {
            countdownEl.style.display = "none";
            messageEl.style.display = "block";
            terminalEl.style.display = "flex";
            return;
        }

        const days = Math.floor(distance / (1000 * 60 * 60 * 24));
        const hours = Math.floor((distance % (1000 * 60 * 60 * 24)) / (1000 * 60 * 60));
        const minutes = Math.floor((distance % (1000 * 60 * 60)) / (1000 * 60));
        const seconds = Math.floor((distance % (1000 * 60)) / 1000);

        countdownEl.innerHTML = `${days}d ${hours}h ${minutes}m ${seconds}s`;
    }

    setInterval(updateCountdown, 1000);
    updateCountdown();

    // Terminal simple para CRONO
    const koraFragmentKeys = ["anomalÃ­a", "ciclos", "interferencia", "dolor", "rendiciÃ³n"];
function desbloquearArchivo(id) {
    const key = id.replace("file-", "");
    let stored = JSON.parse(localStorage.getItem("kora_fragments") || "[]");
    if (!stored.includes(key)) {
        stored.push(key);
        localStorage.setItem("kora_fragments", JSON.stringify(stored));
        updateKORASection();
    }
}
function updateKORASection() {
    const stored = JSON.parse(localStorage.getItem("kora_fragments") || "[]");
    document.querySelectorAll(".kora-file").forEach(el => {
        const key = el.dataset.key;
        if (stored.includes(key)) {
            el.innerHTML = `âœ… ${key.toUpperCase()} â€” <a href="archivos/${key}.pdf" target="_blank">Descargar</a>`;
        } else {
            el.innerHTML = `ðŸ”’ ${key.toUpperCase()} â€” [Acceso denegado]`;
        }
    });
}
updateKORASection();

    inputEl.addEventListener("keydown", function(event) {
        if (event.key === "Enter") {
            const input = inputEl.value.trim().toLowerCase();
            let response = "";

            if (input.includes("pizza")) {
                response = "CRONO no consume alimentos. Blanca sÃ­ querrÃ­a una, probablemente.";
            } else if (input.includes("hola")) {
                response = "CRONO: No hay tiempo para saludos.";
            } else if (input.includes("quiÃ©n eres")) {
                response = "CRONO: Soy supervisiÃ³n. Soy control. Soy estabilidad.";
            } else if (input.includes("ayuda")) {
                response = "CRONO: El protocolo de asistencia estÃ¡ restringido.";
            } else if (input.includes("salir")) {
                response = "CRONO: No se puede salir de una lÃ­nea no superada.";
            } else if (input.includes("reiniciar")) {
                response = "CRONO: Reversia no autorizada por asistentes emocionales.";
            } else if (input.includes("blanca")) {
                response = "CRONO: Asistente emocional asignada. Comportamiento en observaciÃ³n.";
            } else if (input.includes("crono")) {
                response = "CRONO: Presente. Escuchando. Evaluando.";
            } else if (input.includes("error")) {
                response = "CRONO: No hay errores. Solo desvÃ­os.";
            } else if (input.includes("proyecto eterno")) {
                response = "CRONO: El Proyecto Eterno es un experimento liderado por EÃ“N en colaboraciÃ³n con su IA de supervisiÃ³n, CRONO. Consiste en seleccionar grupos humanos con fuertes lazos afectivos y colocarles en un bucle de un mismo aÃ±o para observar cÃ³mo evolucionan emocionalmente con cada repeticiÃ³n. Cada grupo estÃ¡ en una lÃ­nea temporal especÃ­fica. En este caso, ellos estÃ¡n en la lÃ­nea 8B, viviendo repetidamente el aÃ±o 2025, el nombre de su grupo es 8B-25. El objetivo del experimento es ver si pueden trascender ese aÃ±o de forma emocional y afectiva. Si lo consiguen, se les permite avanzar en el tiempo. Si no, se reinician.";
            } else if (input.includes("EÃ³n")) {
                response = "CRONO: La FundaciÃ³n EÃ³n es una organizaciÃ³n cientÃ­fica global que vela por la estabilidad del tiempo emocional de la humanidad. No alteran la historia, pero sÃ­ analizan lÃ­neas temporales donde se han detectado anomalÃ­as emocionales colectivas: traumas, bloqueos, patrones de inercia, etc."; 
            } else {
                switch (input) {
                    case "quÃ© es esto":
                        response = "CRONO: Proyecto ETERNO. LÃ­nea temporal 8B-25. En curso.";
                        break;
                    case "anomalÃ­a":
    desbloquearArchivo("file-anomalia");
    response = "CRONO: TÃ©rmino detectado. Registro ANOMALÃA habilitado.";
    break;
case "ciclos":
    desbloquearArchivo("file-ciclos");
    response = "CRONO: Los ciclos no terminan hasta que se comprende el patrÃ³n. Registro CICLOS habilitado.";
    break;
case "interferencia":
    desbloquearArchivo("file-interferencia");
    response = "CRONO: SeÃ±ales cruzadas. Posible sabotaje afectivo. Registro INTERFERENCIA habilitado.";
    break;
case "dolor":
    desbloquearArchivo("file-dolor");
    response = "CRONO: Registro emocional intenso detectado. Registro DOLOR habilitado.";
    break;
case "rendiciÃ³n":
    desbloquearArchivo("file-rendicion");
    response = "CRONO: Â¿Final o inicio? Registro RENDICIÃ“N habilitado.";
    break;

                    case "emociones":
                        response = "CRONO: Variables inestables. Causa probable del bucle.";
                        break;
                    case "bucle":
                        response = "CRONO: Reinicio nÃºmero 47 confirmado.";
                        break;
                    case "fin":
                        response = "CRONO: AÃºn no.";
                        break;
                    default:
                        response = "CRONO: Entrada no reconocida.";
                }
            }
outputEl.classList.add("flash");
setTimeout(() => outputEl.classList.remove("flash"), 200);

            outputEl.textContent += `> ${input}\n${response}\n\n`;
            inputEl.value = "";
            outputEl.scrollTop = outputEl.scrollHeight;
        }
    });
    function resetProgress() {
    if (confirm("Â¿Reiniciar progreso? Esto borrarÃ¡ los archivos desbloqueados.")) {
        localStorage.removeItem("kora_fragments");
        updateKORASection();
        outputEl.textContent += "> Reinicio manual ejecutado.\nCRONO: Todos los registros han sido eliminados.\n\n";
        outputEl.scrollTop = outputEl.scrollHeight;
    }
}

</script>
    <div id="kora-section" style="display: none; margin-top: 40px;">
    <h2>DÃ†TA:KORA</h2>
    <div id="kora-files">
        <p class="kora-file" data-key="anomalÃ­a">ðŸ”’ DÃ†TA:KORA_1 â€” [Acceso denegado]</p>
        <p class="kora-file" data-key="ciclos">ðŸ”’ DÃ†TA:KORA_2 â€” [Acceso denegado]</p>
        <p class="kora-file" data-key="interferencia">ðŸ”’ DÃ†TA:KORA_3 â€” [Acceso denegado]</p>
        <p class="kora-file" data-key="dolor">ðŸ”’ DÃ†TA:KORA_4 â€” [Acceso denegado]</p>
        <p class="kora-file" data-key="rendiciÃ³n">ðŸ”’ DÃ†TA:KORA_5 â€” [Acceso denegado]</p>
    </div>
</div>
<!-- BotÃ³n para mostrar secciÃ³n DÃ†TA:KORA -->
<button onclick="toggleKORA()" style="margin-top: 20px; padding: 10px; font-family: 'Courier New', monospace; background-color: black; border: 1px solid #00ffcc; color: #00ffcc; cursor: pointer;">
    Acceder a DÃ†TA:KORA
</button>
<!-- SOLO PARA PRUEBAS - Eliminar antes del escape room -->
<button onclick="resetProgress()" style="margin-top: 10px; padding: 10px; font-family: 'Courier New', monospace; background-color: black; border: 1px solid red; color: red; cursor: pointer;">
    ðŸ”„ Resetear todo (PRUEBAS)
</button>

</body>
</html>
