<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>Proyecto ETERNO</title>
  <style>
    body {
      background-color: black;
      color: #00ffcc;
      font-family: 'Courier New', Courier, monospace;
      display: flex;
      flex-direction: column;
      align-items: center;
      justify-content: center;
      height: 100vh;
      text-align: center;
    }

    h1 {
      font-size: 2rem;
    }

    #countdown {
      font-size: 2.5rem;
      margin-top: 20px;
    }

    #message {
      font-size: 1.5rem;
      margin-top: 30px;
      display: none;
    }

    #terminal {
      display: none;
      flex-direction: column;
      align-items: center;
      margin-top: 30px;
      width: 80%;
      max-width: 600px;
    }

    #input {
      width: 100%;
      padding: 10px;
      background-color: black;
      border: 1px solid #00ffcc;
      color: #00ffcc;
      font-family: 'Courier New', Courier, monospace;
      font-size: 1rem;
    }

    #output {
      margin-top: 10px;
      white-space: pre-wrap;
      text-align: left;
      width: 100%;
    }

    .flash {
      animation: flash 0.2s;
    }

    @keyframes flash {
      0% { background-color: #00ffcc; color: black; }
      100% { background-color: black; color: #00ffcc; }
    }

    .kora-content {
      margin-top: 10px;
      padding: 10px;
      background-color: #111;
      border: 1px solid #00ffcc;
      color: #00ffcc;
      white-space: pre-wrap;
      font-size: 0.9rem;
      display: none;
    }

    .kora-file.opened .kora-content {
      display: block;
    }
  </style>
</head>
<body>
  <h1>Has sido seleccionadx para el <strong>Proyecto ETERNO</strong>.</h1>
  <p>No hagas preguntas. PrÃ³ximamente descubrirÃ¡s la verdad sobre tu 2025.</p>
  <div id="countdown"></div>
  <div id="message">ðŸ”“ Bienvenido al Proyecto ETERNO. La verdad ha sido liberada.</div>

  <!-- Terminal de CRONO -->
  <div id="terminal">
    <p>CRONO estÃ¡ en lÃ­nea. Introduce una instrucciÃ³n:</p>
    <input type="text" id="input" placeholder="Escribe aquÃ­..." autofocus />
    <pre id="output"></pre>
  </div>

  <div id="kora-section" style="display: none; margin-top: 40px;">
    <h2>DÃ†TA:KORA</h2>
    <div id="kora-files"></div>
  </div>

  <script>
    const countdownEl = document.getElementById("countdown");
    const messageEl = document.getElementById("message");
    const terminalEl = document.getElementById("terminal");
    const inputEl = document.getElementById("input");
    const outputEl = document.getElementById("output");

    const targetDate = new Date("January 1, 2025 00:00:00").getTime();

    function updateCountdown() {
      const now = new Date().getTime();
      const distance = targetDate - now;

      if (distance <= 0) {
        countdownEl.style.display = "none";
        messageEl.style.display = "block";
        terminalEl.style.display = "flex";
        return;
      }

      const days = Math.floor(distance / (1000 * 60 * 60 * 24));
      const hours = Math.floor((distance % (1000 * 60 * 60 * 24)) / (1000 * 60 * 60));
      const minutes = Math.floor((distance % (1000 * 60 * 60)) / (1000 * 60));
      const seconds = Math.floor((distance % (1000 * 60)) / 1000);

      countdownEl.innerHTML = `${days}d ${hours}h ${minutes}m ${seconds}s`;
    }

    setInterval(updateCountdown, 1000);
    updateCountdown();

    const contenidos = {
      ciclos: "Contenido desbloqueado: Los ciclos emocionales se repiten hasta que el patrÃ³n es transformado.",
      dolor: "Contenido desbloqueado: El dolor no es un fallo del sistema. Es una seÃ±al.",
      recuerdos: "Contenido desbloqueado: Algunos datos no estÃ¡n corruptos. Solo estÃ¡n tristes.",
      despertar: "Contenido desbloqueado: La consciencia trae conflicto. Y tambiÃ©n posibilidad.",
      despedida: "Contenido desbloqueado: A veces, dejar ir es avanzar."
    };

    function desbloquearArchivo(id) {
      const key = id.replace("file-", "");
      let stored = JSON.parse(localStorage.getItem("kora_fragments") || "[]");
      if (!stored.includes(key)) {
        stored.push(key);
        localStorage.setItem("kora_fragments", JSON.stringify(stored));
        updateKORASection();
      }

      const koraSection = document.getElementById("kora-section");
      if (koraSection.style.display === "none") {
        koraSection.style.display = "block";
      }
      koraSection.scrollIntoView({ behavior: "smooth" });
    }

    function updateKORASection() {
      const stored = JSON.parse(localStorage.getItem("kora_fragments") || "[]");
      const container = document.getElementById("kora-files");
      container.innerHTML = "";

      ["ciclos", "dolor", "recuerdos", "despertar", "despedida"].forEach(key => {
        const p = document.createElement("p");
        p.className = "kora-file";
        p.dataset.key = key;

        if (stored.includes(key)) {
          p.innerHTML = `âœ… ${key.toUpperCase()} â€” <button onclick="this.parentElement.classList.toggle('opened')">Ver</button>
          <div class="kora-content">${contenidos[key]}</div>`;
        } else {
          p.textContent = `ðŸ”’ ${key.toUpperCase()} â€” [Acceso denegado]`;
        }

        container.appendChild(p);
      });
    }

    updateKORASection();

    inputEl.addEventListener("keydown", function(event) {
      if (event.key === "Enter") {
        const input = inputEl.value.trim().toLowerCase();
        let response = "";

        const comandosKora = {
          "recuerdos": "CRONO: TÃ©rmino detectado. Registro RECUERDOS habilitado.",
          "ciclos": "CRONO: Los ciclos no terminan hasta que se comprende el patrÃ³n. Registro CICLOS habilitado.",
          "despertar": "CRONO: SeÃ±ales cruzadas. Posible sabotaje afectivo. Registro DESPERTAR habilitado.",
          "dolor": "CRONO: Registro emocional intenso detectado. Registro DOLOR habilitado.",
          "despedida": "CRONO: Â¿Final o inicio? Registro DESPEDIDA habilitado."
        };

        if (comandosKora[input]) {
          desbloquearArchivo("file-" + input);
          response = comandosKora[input];
        } else {
          switch (input) {
            case "quÃ© es esto":
              response = "CRONO: Proyecto ETERNO. LÃ­nea temporal 8B-25. En curso.";
              break;
            case "emociones":
              response = "CRONO: Variables inestables. Causa probable del bucle.";
              break;
            case "bucle":
              response = "CRONO: Reinicio nÃºmero 47 confirmado.";
              break;
            case "fin":
              response = "CRONO: AÃºn no.";
              break;
            default:
              if (input.includes("pizza")) {
                response = "CRONO no consume alimentos. Blanca sÃ­ querrÃ­a una, probablemente.";
              } else if (input.includes("hola")) {
                response = "CRONO: No hay tiempo para saludos.";
              } else if (input.includes("quiÃ©n eres")) {
                response = "CRONO: Soy supervisiÃ³n. Soy control. Soy estabilidad.";
              } else if (input.includes("ayuda")) {
                response = "CRONO: El protocolo de asistencia estÃ¡ restringido.";
              } else if (input.includes("salir")) {
                response = "CRONO: No se puede salir de una lÃ­nea no superada.";
              } else if (input.includes("reiniciar")) {
                response = "CRONO: Reversia no autorizada por asistentes emocionales.";
              } else if (input.includes("blanca")) {
                response = "CRONO: Asistente emocional asignada. Comportamiento en observaciÃ³n.";
              } else if (input.includes("crono")) {
                response = "CRONO: Presente. Escuchando. Evaluando.";
              } else if (input.includes("error")) {
                response = "CRONO: No hay errores. Solo desvÃ­os.";
              } else if (input.includes("proyecto eterno")) {
                response = "CRONO: El Proyecto Eterno es un experimento liderado por EÃ“N en colaboraciÃ³n con su IA de supervisiÃ³n, CRONO. Consiste en seleccionar grupos humanos con fuertes lazos afectivos y colocarles en un bucle de un mismo aÃ±o para observar cÃ³mo evolucionan emocionalmente con cada repeticiÃ³n. Cada grupo estÃ¡ en una lÃ­nea temporal especÃ­fica. En este caso, ellos estÃ¡n en la lÃ­nea 8B, viviendo repetidamente el aÃ±o 2025, el nombre de su grupo es 8B-25. El objetivo del experimento es ver si pueden trascender ese aÃ±o de forma emocional y afectiva. Si lo consiguen, se les permite avanzar en el tiempo. Si no, se reinician.";
              } else if (input.includes("eÃ³n")) {
                response = "CRONO: La FundaciÃ³n EÃ“N es una organizaciÃ³n cientÃ­fica global que vela por la estabilidad del tiempo emocional de la humanidad. No alteran la historia, pero sÃ­ analizan lÃ­neas temporales donde se han detectado anomalÃ­as emocionales colectivas: traumas, bloqueos, patrones de inercia, etc.";
              } else {
                response = "CRONO: Entrada no reconocida.";
              }
          }
        }

        outputEl.classList.add("flash");
        setTimeout(() => outputEl.classList.remove("flash"), 200);

        outputEl.textContent += `> ${input}\n${response}\n\n`;
        inputEl.value = "";
        outputEl.scrollTop = outputEl.scrollHeight;
      }
    });
  </script>
</body>
</html>
